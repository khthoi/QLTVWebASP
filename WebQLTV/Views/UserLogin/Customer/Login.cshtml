@model WebQLTV.Models.Login
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/lib/bootstrap/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.4/components/logins/login-9/assets/css/login-9.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Login</title>
</head>
<body>
    <section class="bg-primary py-3 py-md-5 py-xl-8">
        <div class="container">
            <div class="row gy-4 align-items-center">
                <div class="col-12 col-md-6 col-xl-7">
                    <div class="d-flex justify-content-center text-bg-primary">
                        <div class="col-12 col-xl-9">
                            <h1>THƯ VIỆN ONLINE</h1>
                            <hr class="border-primary-subtle mb-4">
                            <h5 class="h2 mb-4">Đăng ký mượn sách trực tuyến.</h5>
                            <p class="lead mb-5">Đăng nhập hoặc đăng ký để mượn được tài liệu nội bộ giới hạn.</p>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-md-6 col-xl-5">
                    <div class="card border-0 rounded-4">
                        <div class="card-body p-3 p-md-4 p-xl-5">
                            <h3>Đăng nhập</h3>
                            <p>Không có tài khoản? <a href="/Account/Register">Đăng ký</a></p>

                            <!-- Form đăng nhập -->
                            @using (Html.BeginForm("Login", "Account", FormMethod.Post, new { @class = "needs-validation" }))
                            {
                                @Html.AntiForgeryToken()

                                <div class="form-floating mb-3">
                                    @Html.TextBoxFor(m => m.Username, new { @class = "form-control", @placeholder = "Nhập tài khoản", @required = "required" })
                                    <label for="Username">Username</label>
                                    <span class="text-danger">@Html.ValidationMessageFor(m => m.Username)</span>
                                </div>

                                <div class="form-floating mb-3">
                                    @Html.PasswordFor(m => m.PasswordHash, new { @class = "form-control", @placeholder = "Nhập mật khẩu", @required = "required" })
                                    <label for="PasswordHash">Password</label>
                                    <span class="text-danger">@Html.ValidationMessageFor(m => m.PasswordHash)</span>
                                </div>

                                <!-- Hiển thị thông báo lỗi -->
                                @if (ViewData["Error"] != null || !ViewData.ModelState.IsValid)
                                {
                                    <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
                                        <div class="d-flex align-items-center">
                                            <i class="bi bi-x-circle-fill me-2 fs-5"></i>
                                            <div>
                                                <strong>Lỗi đăng nhập:</strong>
                                                @if (ViewData["Error"] != null)
                                                {
                                                    <div>@ViewData["Error"]</div>
                                                }
                                                @Html.ValidationSummary(false, "", new { @class = "mb-0" })
                                            </div>
                                        </div>
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                    </div>
                                }

                                <div class="d-grid mt-4">
                                    <button class="btn btn-primary btn-lg" type="submit">Đăng nhập ngay</button>
                                </div>
                            }

                            <div class="mt-4 d-flex justify-content-end">
                                <a href="/Home/Index">Trở về Trang Chủ</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://unpkg.com/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>